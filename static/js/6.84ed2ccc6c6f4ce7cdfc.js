webpackJsonp([6],{QaSa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={name:"img-file-input",data:function(){return{}},props:["imgFiles"],methods:{changeFile:function(t){var e=this;console.log(t.target.files[0]);var i=t.target.files[0],s=new FileReader;console.log(window.URL.createObjectURL(i)),s.readAsDataURL(i),s.onload=function(){e.imgFiles.push(s.result)}}}},n={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-img-btn"},[e("input",{attrs:{type:"file"},on:{change:this.changeFile}})])},staticRenderFns:[]};var a={name:"time-pick",props:["value","timeTag"],data:function(){return{slots:[{flex:2,values:[],className:"slot1",textAlign:"center"},{flex:1,values:[],className:"slot1",textAlign:"center"},{flex:1,values:[],className:"slot2",textAlign:"center"}],slotValues:[1,2],currentValue:"",days:[],dayValues:[],visible:!1}},computed:{currentTime:function(){return this.slotValues[0]+" "+this.slotValues[1]+":"+this.slotValues[2]}},methods:{open:function(){this.visible=!0},onValuesChange:function(t,e){var i=this.days[this.dayValues.indexOf(e[0])];i&&(this.currentValue=new Date(i.getFullYear(),i.getMonth(),i.getDate(),e[1],e[2])),this.slotValues=e},clickCancel:function(){this.visible=!1},clickSure:function(){this.$emit("confirm",this.currentValue),this.visible=!1},isDateString:function(t){return/\d{4}(\-|\/|.)\d{1,2}\1\d{1,2}/.test(t)},getYear:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[0]:t.getFullYear()},getMonth:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[1]:t.getMonth()+1},getDate:function(t){return this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[2]:t.getDate()},getWeekDay:function(t){switch(this.isDateString(t)?t.split(" ")[0].split(/-|\/|\./)[2]:t.getDay()){case 0:return"日";case 1:return"一";case 2:return"二";case 3:return"三";case 4:return"四";case 5:return"五";case 6:return"六";default:return"X"}},getHour:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[0]:t.getHours()},getMinute:function(t){return this.isDateString(t)?(t.split(" ")[1]||"00:00:00").split(":")[1]:t.getMinutes()},initSlots:function(){this.currentValue=this.value,this.value||(this.currentValue=new Date);for(var t=-15;t<15;t++){var e=new Date(this.currentValue.getTime()+24*t*3600*1e3);this.days.push(e),this.dayValues.push(this.getMonth(e)+"月"+this.getDate(e)+"日周"+this.getWeekDay(e))}this.slots[0].values=this.dayValues,this.slots[0].defaultIndex=15,this.slots[1].values=Array(24).fill(0).map(function(t,e){return e<10?"0"+e:e}),this.slots[2].values=Array(60).fill(0).map(function(t,e){return e<10?"0"+e:e}),this.slots[1].defaultIndex=this.currentValue.getHours(),this.slots[2].defaultIndex=this.currentValue.getMinutes()}},mounted:function(){this.initSlots()}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("mt-popup",{staticClass:"mint-datetime",attrs:{position:"bottom"},model:{value:t.visible,callback:function(e){t.visible=e},expression:"visible"}},[i("div",{staticClass:"bg-box"},[i("div",{staticClass:"top-bar"},[i("span",[t._v(t._s(t.timeTag))]),t._v(" "),i("span",[t._v(t._s(t.currentTime))]),t._v(" "),i("div",{staticClass:"border-line"})]),t._v(" "),i("mt-picker",{attrs:{slots:t.slots},on:{change:t.onValuesChange}}),t._v(" "),i("footer",[i("div",{staticClass:"border-line-top"}),t._v(" "),i("div",{staticClass:"foot-btn",on:{click:t.clickCancel}},[t._v("取消")]),t._v(" "),i("div",{staticClass:"foot-btn foot-btn-sure",on:{click:t.clickSure}},[t._v("确定")])])],1)])},staticRenderFns:[]};var r={name:"yst_ask-leave",data:function(){return{imgFiles:[],beginTime:new Date,endTime:new Date,beginDate:"请选择时间",endDate:"请选择时间"}},components:{imgFileInput:i("Z0/y")(s,n,!1,function(t){i("o/xO")},"data-v-1542eaaa",null).exports,timePicker:i("Z0/y")(a,l,!1,function(t){i("tQvj")},"data-v-55f38289",null).exports},methods:{submit:function(){this.imgFiles.pop()},openBeginPicker:function(){this.$refs.beginPicker.open()},openEndPicker:function(){this.$refs.endPicker.open()},handleBeginConfirm:function(t){console.log(t.toString()),console.log(t.getTime());var e=t.getHours()>9?t.getHours():"0"+t.getHours(),i=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();this.beginDate=t.getMonth()+1+"月"+t.getDate()+"日"+e+"："+i},handleEndConfirm:function(t){console.log(t.toString()),console.log(t.getTime());var e=t.getHours()>9?t.getHours():"0"+t.getHours(),i=t.getMinutes()>9?t.getMinutes():"0"+t.getMinutes();this.endDate=t.getMonth()+1+"月"+t.getDate()+"日"+e+"："+i}},mounted:function(){document.title="宝宝请假"}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"askLeave-container"},[i("div",{staticClass:"yst-segmentation-line-view"}),t._v(" "),t._m(0),t._v(" "),i("div",{staticClass:"yst-segmentation-line-view"}),t._v(" "),i("div",{staticClass:"cell flx-x-between"},[i("span",[t._v("开始时间")]),t._v(" "),i("div",{on:{click:t.openBeginPicker}},[t._v(t._s(t.beginDate))])]),t._v(" "),i("div",{staticClass:"cell flx-x-between"},[i("span",[t._v("结束时间")]),t._v(" "),i("div",{on:{click:t.openEndPicker}},[t._v(t._s(t.endDate))])]),t._v(" "),i("div",{staticClass:"yst-segmentation-line-view"}),t._v(" "),t._m(1),t._v(" "),i("div",{staticClass:"yst-segmentation-line-view"}),t._v(" "),t._m(2),t._v(" "),i("div",{staticClass:"yst-segmentation-line-view"}),t._v(" "),i("div",{staticClass:"add-photos-cell"},[i("span",[t._v("图片")]),t._v(" "),i("div",{staticClass:"flx-wrap-start"},[t._l(t.imgFiles,function(t,e){return i("img",{staticClass:"photo-image",attrs:{src:t}})}),t._v(" "),i("img-file-input",{attrs:{imgFiles:t.imgFiles}})],2)]),t._v(" "),i("div",{staticClass:"button",on:{click:t.submit}},[t._v("提交")]),t._v(" "),i("time-picker",{ref:"beginPicker",attrs:{timeTag:"开始时间"},on:{confirm:t.handleBeginConfirm},model:{value:t.beginTime,callback:function(e){t.beginTime=e},expression:"beginTime"}}),t._v(" "),i("time-picker",{ref:"endPicker",attrs:{timeTag:"结束时间"},on:{confirm:t.handleEndConfirm},model:{value:t.endTime,callback:function(e){t.endTime=e},expression:"endTime"}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell flx-x-between"},[e("span",[this._v("请假人")]),this._v(" "),e("span",[this._v("甘宝宝")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cell flx-x-between"},[e("span",[this._v("请假时长")]),this._v(" "),e("div",[this._v("请输入时长")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"leave-reason-cell"},[e("span",[this._v("请假事由")]),this._v(" "),e("textarea",{attrs:{rows:"3",placeholder:"请输入请假理由",autofocus:""}})])}]};var c=i("Z0/y")(r,o,!1,function(t){i("hnF0")},"data-v-0985767a",null);e.default=c.exports},hnF0:function(t,e){},"o/xO":function(t,e){},tQvj:function(t,e){}});
//# sourceMappingURL=6.84ed2ccc6c6f4ce7cdfc.js.map